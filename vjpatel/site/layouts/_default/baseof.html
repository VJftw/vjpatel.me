<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    {{ with .Site.Params.meta.description }}
    <meta name="description" content="{{ . }}">{{ end }} {{ with .Site.Params.meta.keywords }}
    <meta name="keywords" content="{{ . }}">{{ end }}

    <title>{{ block "title" . }}{{ .Site.Title }}{{ end }}</title>

    {{ $stylesheet := .Site.Data.webpack.main }}
    {{ with $stylesheet.css }}
    <!-- <link href="{{ relURL . }}" rel="stylesheet"> -->
    <link rel="preload" href="{{ relURL . }}" as="style" onload="this.onload=null;this.rel='stylesheet'">
    {{ end }}

    {{ $stylesheet := .Site.Data.webpack.deferred }}
    {{ with $stylesheet.css }}
    <link rel="preload" href="{{ relURL . }}" as="style" onload="this.onload=null;this.rel='stylesheet'">
    {{ end }}


    {{ $script := .Site.Data.webpack.main }}
    {{ with $script.js }}
    <script src="{{ relURL . }}" defer async></script>
    {{ end }}
    {{ $script := .Site.Data.webpack.deferred }}
    {{ with $script.js }}
    <script src="{{ relURL . }}" defer async></script>
    {{ end }}

</head>

<body>
    {{ partial "nav.html" . }}

    <div class="container">
        {{ block "main" . }} {{ end }}
    </div>
    {{ partial "footer.html" . }}

    {{ if eq .Page.Params.latex true }} {{ partial "mathjax_support.html" . }} {{ end }}
    {{ if eq .Page.Params.mermaid true }} {{ partial "mermaid_support.html" . }} {{ end }}
</body>

</html>
